<!DOCTYPE html>
<html>
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-54M6JKXS');</script>
    <!-- End Google Tag Manager -->
    <title>Home - Yojit Acharya</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
    <script>
        // Simplified and more reliable image loading system
        const gameData = [
            { img: 'Imgs/Chameleon.png', icon: '🦎', link: 'Chameleon/public/index.html', name: 'Chameleon (Multiplayer)' },
            { img: 'Imgs/Tetris.png', icon: '🧱', link: 'Tetris/index.html', name: 'Tetris' },
            { img: 'Imgs/snake.png', icon: '🐍', link: 'Snake/index.html', name: 'Snake' },
            { img: 'Chess/Chess_Pieces/N.png', icon: '♞', link: 'Chess/index.html', name: 'Chess' },
            { img: 'Imgs/blackjack.png', icon: '🃏', link: 'Blackjack/index.html', name: 'Blackjack' },
            { img: 'Imgs/Wordle.png', icon: '📝', link: 'Wordle/index.html', name: 'Wordle' },
            { img: 'Imgs/BlockBlast.png', icon: '💥', link: 'BlockBlast/index.html', name: 'Block Blast' },
            { img: 'Imgs/Sudoku.png', icon: '🔢', link: 'Sudoku/index.html', name: 'Sudoku' }
        ];

        function loadImageWithFallback(imgElement, imagePath, fallbackIcon) {
            // Set up the image element with proper attributes
            imgElement.style.background = 'linear-gradient(45deg, rgba(64, 224, 208, 0.2), rgba(255, 105, 180, 0.2))';
            imgElement.classList.add('loading');
            
            console.log(`🔄 Attempting to load: ${imagePath}`);

            // Create a test image
            const testImg = new Image();
            
            testImg.onload = function() {
                // Image loaded successfully
                imgElement.src = this.src;
                imgElement.classList.remove('loading');
                imgElement.classList.remove('placeholder');
                console.log(`✅ Successfully loaded: ${imagePath}`);
            };

            testImg.onerror = function() {
                // Image failed to load - use placeholder
                console.log(`❌ Failed to load: ${imagePath}, using fallback`);
                imgElement.classList.remove('loading');
                imgElement.classList.add('placeholder');
                imgElement.setAttribute('data-icon', fallbackIcon);
                imgElement.removeAttribute('src');
                
                // Set placeholder styling
                imgElement.style.background = 'linear-gradient(45deg, rgba(64, 224, 208, 0.3), rgba(255, 105, 180, 0.3))';
                imgElement.style.border = '2px dashed rgba(255, 255, 255, 0.3)';
                imgElement.style.display = 'flex';
                imgElement.style.alignItems = 'center';
                imgElement.style.justifyContent = 'center';
                imgElement.style.fontSize = '3em';
                imgElement.style.color = 'rgba(255, 255, 255, 0.7)';
                imgElement.textContent = fallbackIcon;
            };

            // Set timeout for slow connections
            setTimeout(() => {
                if (imgElement.classList.contains('loading')) {
                    testImg.src = ''; // Cancel loading
                    testImg.onerror(); // Trigger error handler
                }
            }, 3000);

            // Start loading
            testImg.src = imagePath;
        }

        function initializeApp() {
            console.log('🚀 Initializing application...');
            
            // Add slide-in classes to elements
            const header = document.querySelector('header');
            const navItems = document.querySelectorAll('nav li');
            const main = document.querySelector('main');
            const figures = document.querySelectorAll('.games figure');

            // Start animations
            if (header) header.classList.add('slide-in');
            
            setTimeout(() => {
                navItems.forEach(item => item.classList.add('slide-in'));
            }, 400);

            setTimeout(() => {
                if (main) main.classList.add('slide-in');
            }, 800);

            setTimeout(() => {
                figures.forEach((figure, index) => {
                    setTimeout(() => {
                        figure.classList.add('slide-in');
                    }, index * 100);
                });
            }, 1200);

            // Load all images with proper fallbacks
            const images = document.querySelectorAll('.games img');
            images.forEach((img, index) => {
                if (gameData[index]) {
                    setTimeout(() => {
                        loadImageWithFallback(img, gameData[index].img, gameData[index].icon);
                    }, index * 200); // Stagger loading
                }
            });

            // Add hover effects
            figures.forEach(figure => {
                figure.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.02)';
                });
                
                figure.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }

        // Fallback initialization
        window.addEventListener('load', () => {
            const stillLoadingImages = document.querySelectorAll('.games img.loading');
            if (stillLoadingImages.length > 0) {
                console.log(`🔄 Retrying ${stillLoadingImages.length} images that are still loading...`);
                stillLoadingImages.forEach((img, index) => {
                    if (gameData[index]) {
                        loadImageWithFallback(img, gameData[index].img, gameData[index].icon);
                    }
                });
            }
        });
    </script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-54M6JKXS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="portfolio.html">Portfolio</a></li>
                <li><a href="test.html">Test</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h2> NEW! </h2>
        <h3> Do you need tutoring for the ACT, AP classes, or anything in school?
            <br>
            Are you interested in honing your teaching and communication skills through tutoring?
            <br>
         Click <a href="Tutoring/index.html">HERE</a> to learn more about tutoring </h3>
            <br>
            <h2> Current Works </h2>
            <div class ="games">
                <figure>
                    <a href="Chameleon/public/index.html">
                        <img alt="Chameleon game screenshot">
                    </a>
                    <figcaption><a href="Chameleon/public/index.html">Chameleon (Multiplayer)</a></figcaption>
                </figure>
            </div>
        <h2>Apps & Projects</h2>
        <div class="games">
            <figure>
                <a href="Tetris/index.html">
                    <img alt="Tetris game screenshot">
                </a>
                <figcaption><a href="Tetris/index.html">Tetris</a></figcaption>
            </figure>

            <figure>
                <a href="Snake/index.html">
                    <img alt="Snake game screenshot">
                </a>
                <figcaption><a href="Snake/index.html">Snake</a></figcaption>
            </figure>
            
            <figure>
               <a href="Chess/index.html">
                   <img alt="Chess knight piece">
               </a>
                <figcaption><a href="Chess/index.html">Chess</a></figcaption>
            </figure>
        </div>
        <div class="games">
            <figure>
                <a href="Blackjack/index.html">
                    <img alt="Blackjack game screenshot">
                </a>
                <figcaption><a href="Blackjack/index.html">Blackjack</a></figcaption>
            </figure>
            
            <figure>
                <a href="Wordle/index.html">
                    <img alt="Wordle game screenshot">
                </a>
                <figcaption><a href="Wordle/index.html">Wordle</a></figcaption>
            </figure>
            
            <figure>
                <a href="BlockBlast/index.html">
                    <img alt="Block Blast game screenshot">
                </a>
                <figcaption><a href="BlockBlast/index.html">Block Blast</a></figcaption>
            </figure>
        </div>

        <div class="games">
            <figure>
                <a href="Sudoku/index.html">
                    <img alt="Sudoku game screenshot">
                </a>
                <figcaption><a href="Sudoku/index.html">Sudoku</a></figcaption>
            </figure>
        </div>
    </main>
</body>
</html>